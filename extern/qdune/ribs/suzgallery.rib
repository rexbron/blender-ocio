#############################################################################################################
# This is a modification of an example ribfile from the well-known renderer BMRT, vasegallery1.rib
#
# Here not only some different shaders are demonstrated, but also different primitives are used,
# with a prominent role for 'suzanne', the blender mascot in particular.
# Middle row is the polygon version of 'suzanne' (left & right object is the nurbs vase from orig. ribfile),
# bottom row is the catmull-clark subdivision mesh.
# The middle object is of course the ubiquitous utah teapot.
#############################################################################################################

##RenderMan RIB-Structure 1.0
version 3.03

Format 900 500 1

Hider "hidden"

Option "hider" "jitter" [1]
#Option "limits" "bucketsize" [64]
#Option "limits" "gridsize" [2048]

Exposure 1 1.5
PixelFilter "catmull-rom" 4 4
PixelSamples 4 4

#ShadingRate 0.5

#Attribute "dice" "binary" [1]

#Display "suzannegallery.tga" "file" "rgb"
Display "suzannegallery" "framebuffer" "rgb"
Projection "orthographic"
ScreenWindow -10 80 -40 10

##CameraOrientation 0 40 15 0 0 5.75 0 -0.225304 0.974289
ConcatTransform [1 0 0 0 0 -0.225304 -0.974288 0 0 0.974289 -0.225304 0 0 0 0 1]
Translate -0 -40 -15 

WorldBegin

TransformBegin
CoordSysTransform "camera"
# Ambient light
LightSource "ambientlight" 1 "intensity" [0.01]
Illuminate 1 1

# Key light
AttributeBegin
Translate 800 1200 -1000
Rotate -20 0 1 0
Rotate 30 1 0 0
LightSource "uberlight" 2 "string lighttype" ["omni"] "intensity" [0.8] "lightcolor" [1 .95 .9]
AttributeEnd
Illuminate 2 1

# Fill light
AttributeBegin
Translate -500 500 -1000
Rotate -20 0 1 0
Rotate 30 1 0 0
Declare "lighttype" "string"
LightSource "uberlight" 3 "lighttype" ["omni"] "intensity" [0.2] "float nonspecular" [1] "lightcolor" [.95 .95 1]
AttributeEnd
Illuminate 3 1

# Rim light
AttributeBegin
Translate -600 600 900
LightSource "uberlight" 4 "string lighttype" ["omni"] "intensity" [0.35] "float nonspecular" [.7]
AttributeEnd
Illuminate 4 1

TransformEnd

########################################################################
########################################################################
########################################################################

AttributeBegin
Translate 0 0 0
#Surface "roughmetal" "roughness" [0.3] "Ks" [1.5]
Surface "luna"
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate -45 0 1 0
Sphere 1 -1 1 360
AttributeEnd

AttributeBegin
Translate 16 0 0
Color 1 .3 .05
Surface "glossy" "roughness" [0.3] "Ks" [1.5] "Kd" [0.15]
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 2 0
Rotate -22.5 0 1 0
Rotate 90 1 0 0
Paraboloid 1 -2 2 360
AttributeEnd

AttributeBegin
Translate 32 0 0
Color .05 .3 1
Surface "plastic"
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
#Translate 0 1 0
Rotate -90 1 0 0
Cone 2 1 360
AttributeEnd

AttributeBegin
Translate 48 0 0
Color 1 .3 .05
Surface "screen_aa"
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate 52.5 1 1 1
Torus 1 0.25 0 360 360
AttributeEnd

AttributeBegin
Translate 64 0 0
TransformBegin
Surface "chebo2D" "float scale" [5] "color black_color" [0 0 0] "color white_color" [1 0 0]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate -45 0 1 0
Hyperboloid -1 0 -1  0 -1 1  360
AttributeEnd

########################################################################


AttributeBegin
Translate 0 0 -16
Color 0.5 0.3 0.5
TransformBegin
Scale 3.5 3.5 3.5
Surface "glossy" "Ks" [1] "roughness" [0.8]
Displacement "stucco" "float Km" [0.15]
TransformEnd
ReadArchive "vase.rib"
AttributeEnd


AttributeBegin
Translate 16 0 -16
#Color 1 .3 .05
TransformBegin
#Scale 3.5 3.5 3.5
Surface "matte" "Kd" [0.7]
Displacement "castucco" "float Km" [0.04] "float freq" [1.5]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate 22.5 0 1 0
ReadArchive "suzanne_pp.rib"
AttributeEnd

AttributeBegin
Translate 32 0 -16
#Color 1 0.0625 0.03125
TransformBegin
Scale 3.5 3.5 3.5
#Surface "normalshader" "float negate" [0]
Surface "funkyglass"
#Attribute "displacementbound" "coordinatesystem" ["shader"] "sphere" [.1]
#Displacement "dented" "float power" [1] "float Km" [0.1]
#"float Km" [0.04] "float freq" [1.25]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
ReadArchive "suzanne_pp.rib"
AttributeEnd

AttributeBegin
Translate 48 0 -16
Color 1 .3 .05
TransformBegin
Scale 3.5 3.5 3.5
Surface "wood2" "Kd" [0.7]
#Attribute "displacementbound" "coordinatesystem" ["shader"] "sphere" [.1]
Displacement "dented"  "float power" [2] "float Km" [0.3]
#"float Km" [0.04] "float freq" [1.25]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate -22.5 0 1 0
ReadArchive "suzanne_pp.rib"
AttributeEnd

AttributeBegin
Translate 64 0 -16
Color 1 .3 .05
TransformBegin
Scale 3.5 3.5 3.5
Surface "clay" "Kd" [1] "roughness" [3]
#Attribute "displacementbound" "coordinatesystem" ["shader"] "sphere" [.1]
Displacement "dented"  "float power" [3]
#"float Km" [0.04] "float freq" [1.25]
TransformEnd
ReadArchive "vase.rib"
AttributeEnd

########################################################################

AttributeBegin
Translate 0 0 -32
#Color 1 .3 .05
TransformBegin
Scale 5 5 5
Surface "veinedmarble"
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate -45 0 1 0
ReadArchive "suzanne.rib"
AttributeEnd


AttributeBegin
Translate 16 0 -32
#Color 1 .3 .05
TransformBegin
Scale 3.5 3.5 3.5
Surface "greenmarble"
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate -22.5 0 1 0
ReadArchive "suzanne.rib"
AttributeEnd

AttributeBegin
Translate 32 0 -32
Color 1 .3 .05
TransformBegin
Scale 10 10 10
#Surface "glossy"
Surface "brushedmetal"
TransformEnd
#Rotate 90 1 0 0
Rotate 30 0 0 1
Scale 3 3 3
#Translate 0 1 0
ReadArchive "teapot.rib"
AttributeEnd

AttributeBegin
Translate 48 0 -32
#Color 1 .3 .05
TransformBegin
Translate 7 7 0
Scale 6 6 6
Rotate 10 1 1 0
Surface "oak" "float divotdepth" [0.007]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate 22.5 0 1 0
ReadArchive "suzanne.rib"
AttributeEnd

AttributeBegin
Translate 64 0 -32
#Color 1 .3 .05
TransformBegin
Translate 10 10 0
Scale 6 6 6
Rotate 10 1 1 0
Surface "oak" "float divotdepth" [0] "float roughness" [0.075] "float Ks" [1.4] "float Kd" [0.3] "float grainy" [0.5] "color Cdarkwood" [0.07 0.04 0.014]
TransformEnd
Rotate 90 1 0 0
Rotate 180 0 1 0
Scale 6 6 6
Translate 0 1 0
Rotate 45 0 1 0
ReadArchive "suzanne.rib"
AttributeEnd



AttributeBegin
Color .65 .65 .65
Surface "constant"
Sphere 5000 -5000 5000 -360
AttributeEnd

WorldEnd

