# QDSLC version 0.0.1-alpha
surface funkyglass
param uniform float Ks 1
param uniform color specularcolor 1 1 1
param uniform float Ka 0.2
param uniform float roughness 0.08
param uniform float Kd 0.2
temp varying vector V
temp varying point PP
temp varying normal Nf
temp varying color Ot
temp varying color Ct
temp varying float $1
temp varying float $2
temp varying float $3
temp varying vector $4
temp varying vector $5
temp uniform vector $6
temp varying vector $7
temp uniform vector $8
temp varying vector $9
temp varying vector $10
temp uniform vector $11
temp uniform vector $12
const float $13 0.5
const float $14 0
const float $15 2
const float $16 3
const string $17 "shader"
const float $18 0.75
const float $19 1
global I P Ci Oi N
codesegment
	normalize        V I
	normalize        $5 N
	faceforward1     Nf $5 V
	ptransform1      PP $17 P
	noise3v          $5 PP
	movvf            $12 $13
	subvvv           $10 $5 $12
	mulvvf           $10 $10 $15
	movvf            $11 $13
	addvvv           Ct $10 $11
	compv            $3 Ct $14
	compv            $1 Ct $19
	addfff           $3 $3 $1
	compv            $1 Ct $15
	addfff           $3 $3 $1
	divfff           $3 $3 $16
	movvf            $8 $19
	subvvv           $9 $8 Ct
	movvf            $7 $3
	addvvv           Ot $7 $9
	vdot             $2 V Nf
	abs              $2 $2
	mulfff           $2 $13 $2
	subfff           $2 $18 $2
	mulvvf           Oi Ot $2
	ambient          $9
	mulvvf           $9 $9 Ka
	diffuse          $7 Nf
	maddvvf          $9 $7 Kd
	mulvvv           $9 Ct $9
	mulvvf           $6 specularcolor Ks
	negvv            $4 V
	specular         $4 Nf $4 roughness
	mulvvv           $7 $6 $4
	addvvv           Ci $9 $7
	return
