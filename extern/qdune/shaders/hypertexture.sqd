# QDSLC version 0.0.1-alpha
surface hypertexture
param uniform float Ka 0.127
param uniform float Kd 1
param uniform float lightdensity 1
param uniform float Ks 0.3
param uniform float stepsize 0.1
param uniform float shadstepsize 0.5
param uniform float opacdensity 1
param uniform float noisefreq 2.0
param uniform float shadowdensity 1
param uniform float thresh 0.5
param uniform float radius 10.0
temp varying float last_dtau_1
temp uniform float i_3
temp varying float discrim
temp varying float discrim_1
temp varying float dtau
temp uniform float i_7
temp varying float end_1
temp varying point origin
temp uniform float amp_9
temp uniform float i_1
temp varying float sum
temp uniform float amp_5
temp varying float t1_2
temp uniform float i_5
temp varying float hits_1
temp varying float b
temp varying float sum_2
temp varying float ss_1
temp varying float density_11
temp uniform float amp_3
temp varying point pp_8
temp uniform float amp_7
temp uniform float i
temp varying float tau_1
temp varying point pp_10
temp varying point Worigin
temp uniform float amp_1
temp varying float tau
temp varying float dtau_2
temp varying float Oi_2
temp varying normal norm_1
temp varying float sum_1
temp varying float solutions
temp varying float sum_5
temp varying point pp_4
temp varying color Cscat_1
temp varying color Lscatter_1
temp varying float sum_4
temp varying float density_5
temp varying float fw
temp uniform float i_10
temp varying float b_1
temp varying point pp_5
temp varying float t1
temp varying float t0
temp varying float c
temp uniform float amp_8
temp varying point pp_2
temp varying vector V
temp varying point Pobj
temp varying float density_10
temp varying float Llen
temp uniform float amp_10
temp uniform float i_8
temp varying float solutions_1
temp uniform float i_9
temp varying point pp_6
temp varying point pp_1
temp varying float Oi_1
temp varying float fw_8
temp varying float tau_2
temp varying float t0_2
temp varying float last_dtau_2
temp varying vector Iobj
temp varying float t0_1
temp varying float c_1
temp varying point pp_7
temp varying float fw_10
temp varying float sum_8
temp varying vector H_1
temp varying float density_8
temp uniform float i_2
temp varying float density_9
temp varying float fw_4
temp varying normal N_2
temp varying float fw_5
temp varying color lighttau
temp varying float t1_1
temp varying float fw_2
temp varying float fw_1
temp varying normal N_1
temp varying float alpha
temp varying float fw_11
temp varying float d
temp uniform float amp_4
temp varying float end_2
temp uniform float amp_11
temp varying float dtau_1
temp varying float solutions_2
temp uniform float i_4
temp varying float sum_10
temp varying point pp
temp varying point pp_9
temp varying float sum_11
temp varying float end
temp uniform float i_6
temp uniform float amp_6
temp varying float sum_6
temp varying float Llen_1
temp varying point pp_11
temp varying float density_2
temp uniform float amp_2
temp varying float density_3
temp varying point Psamp
temp varying vector LN
temp varying float density_6
temp varying float b_2
temp varying float last_dtau
temp varying float ss
temp varying float density_1
temp uniform float i_11
temp varying float hits
temp varying float hits_2
temp varying float d_2
temp varying float discrim_2
temp varying color li
temp varying float sum_3
temp varying float d_1
temp varying normal norm
temp varying vector LN_1
temp varying point pp_3
temp varying vector V_1
temp varying float ss_2
temp varying float fw_9
temp varying color Cscat
temp uniform float amp
temp varying color Lscatter
temp varying float density_4
temp varying float density_7
temp varying vector Iobj_2
temp varying float fw_6
temp varying vector Iobj_1
temp varying float fw_7
temp varying float density
temp varying float sum_7
temp varying float c_2
temp varying color last_li
temp varying float fw_3
temp varying vector H
temp varying float sum_9
temp uniform vector $1
temp varying float $2
temp varying vector $3
temp uniform vector $4
temp uniform float $5
temp varying float $6
temp uniform bool $7
temp uniform float $8
temp varying bool $9
temp varying bool $10
temp uniform bool $11
temp uniform bool $12
temp varying bool $13
temp varying bool $14
temp uniform bool $15
temp varying float $16
temp varying bool $17
temp varying bool $18
temp uniform bool $19
temp varying bool $20
temp uniform bool $21
temp uniform vector $22
temp uniform bool $23
temp uniform float $24
temp varying bool $25
temp uniform bool $26
temp uniform float $27
temp uniform float $28
temp varying bool $29
temp varying bool $30
temp uniform bool $31
temp uniform bool $32
temp varying bool $33
temp varying bool $34
temp uniform bool $35
temp varying vector $36
temp varying float $37
temp uniform vector $38
temp varying float $39
temp uniform float $40
temp uniform vector $41
temp uniform vector $42
temp uniform bool $43
temp uniform float $44
temp uniform float $45
temp uniform vector $46
temp uniform vector $47
temp varying float $48
temp varying vector $49
temp varying float $50
temp uniform vector $51
temp varying vector $52
temp uniform vector $53
temp varying vector $54
temp varying vector $55
temp varying vector $56
temp varying vector $57
temp varying vector $58
temp varying vector $59
temp varying vector $60
temp varying vector $61
temp varying vector $62
temp uniform vector $63
temp varying vector $64
temp varying vector $65
temp varying vector $66
temp uniform vector $67
temp varying vector $68
temp uniform vector $69
temp varying vector $70
temp varying vector $71
temp uniform vector $72
temp uniform vector $73
temp varying vector $74
temp uniform vector $75
temp varying vector $76
temp uniform float $77
temp varying vector $78
temp varying vector $79
temp varying vector $80
temp uniform vector $81
temp uniform vector $82
temp uniform vector $83
temp varying vector $84
temp varying vector $85
temp varying vector $86
temp varying vector $87
temp uniform vector $88
temp uniform vector $89
temp varying vector $90
temp varying vector $91
temp varying float $92
temp varying float $93
temp uniform float $94
temp varying float $95
temp varying float $96
temp varying float $97
temp uniform float $98
temp varying vector $99
temp uniform float $100
temp varying float $101
temp uniform float $102
temp varying float $103
temp uniform float $104
temp varying float $105
temp varying float $106
temp varying float $107
temp varying float $108
temp uniform float $109
temp varying float $110
temp uniform float $111
temp uniform float $112
temp varying float $113
temp uniform float $114
temp varying float $115
temp varying float $116
temp varying float $117
temp uniform float $118
temp varying vector $119
temp varying float $120
temp varying float $121
temp uniform float $122
temp varying float $123
temp uniform float $124
temp varying float $125
temp uniform float $126
temp uniform float $127
temp uniform float $128
temp varying float $129
temp uniform float $130
temp varying float $131
temp uniform float $132
temp varying float $133
temp varying float $134
temp varying float $135
temp uniform float $136
temp varying float $137
temp varying float $138
temp uniform float $139
temp varying float $140
const float $141 0
const float $142 1
const float $143 2
const float $144 3
const float $145 4
const float $146 0.2
const float $147 0.5
const float $148 0.1
const float $149 0.6
const float $150 10
const float $151 0.0001
const float $152 0.8
const float $153 0.0051
const string $154 "current"
const float $155 0.005
const float $156 0.999
const float $157 0.75
const float $158 0.01
const string $159 "object"
global Ci Oi Cl I L N P
codesegment
	movvf            Oi $141
	movvv            Ci Oi
	vdot             $96 N I
	ifgtff           $17 $96 $141
	cond_push        $17
	ptransform1      Pobj $159 P
	vtransform1      $64 $159 I
	normalize        Iobj $64
	negvv            $64 Iobj
	vdot             $97 Pobj $64
	mulfff           b $143 $97
	vdot             $97 Pobj Pobj
	mulfff           $5 radius radius
	subfff           c $97 $5
	mulfff           $97 b b
	mulfff           $6 $145 c
	subfff           discrim $97 $6
	ifgtff           $18 discrim $141
	cond_push        $18
	sqrt             discrim discrim
	negff            $97 discrim
	subfff           $97 $97 b
	divfff           t0 $97 $143
	ifgtff           $18 t0 $151
	cond_push        $18
	subfff           $97 discrim b
	divfff           t1 $97 $143
	movff            solutions $143
	cond_else
	subfff           $97 discrim b
	divfff           t0 $97 $143
	ifgtff           $18 t0 $151
	cmovf            solutions $18 $142 $141
	cond_pop
	cond_else
	ifeqff           $18 discrim $141
	cond_push        $18
	negff            $97 b
	divfff           t0 $97 $143
	ifgtff           $18 t0 $151
	cmovf            solutions $18 $142 $141
	cond_else
	movff            solutions $141
	cond_pop
	cond_pop
	movff            hits solutions
	ifgtff           $18 hits $141
	cond_push        $18
	movff            $97 t0
	cond_else
	movff            $97 $141
	cond_pop
	movff            end $97
	mulvvf           $65 Iobj t0
	subvvv           origin Pobj $65
	ptransform2      Worigin $159 $154 origin
	randomf          $97
	mulfff           d $97 stepsize
	subfff           $97 end d
	minf             ss stepsize $97
	mulvvf           $65 Iobj d
	addvvv           Psamp origin $65
	mulfff           $98 stepsize noisefreq
	mulvvf           $49 Psamp noisefreq
	movff            amp $142
	movvv            pp $49
	movff            sum $141
	movff            fw $98
	movff            i $141
@1
	ifltff           $19 i $144
	cjmpnot          $19 @2
	noise3f          $95 pp
	mulfff           $95 $143 $95
	subfff           $95 $95 $142
	smoothstep       $92 $146 $157 fw
	subfff           $92 $142 $92
	mulfff           $95 $95 $92
	maddfff          sum amp $95
	mulfff           amp amp $149
	movvf            $47 $143
	mulvvv           pp pp $47
	mulfff           fw fw $143
	addfff           i i $142
	jmp              @1
@2
	movff            $92 sum
	mulfff           $92 $147 $92
	addfff           density $147 $92
	length           $92 Psamp
	divfff           $92 $92 radius
	smoothstep       $92 $152 $142 $92
	subfff           $92 $142 $92
	mulfff           density density $92
	movff            last_dtau density
	ptransform2      $61 $159 $154 Psamp
	length           $93 Psamp
	subfff           $104 radius $153
	ifgtff           $20 $93 $104
	cond_push        $20
	movvv            norm Psamp
	cond_else
	divfff           $94 shadstepsize $150
	movvf3           $63 $94 $141 $141
	addvvv           $62 Psamp $63
	mulfff           $104 shadstepsize noisefreq
	mulvvf           $70 $62 noisefreq
	movff            amp_1 $142
	movvv            pp_1 $70
	movff            sum_1 $141
	movff            fw_1 $104
	movff            i_1 $141
@3
	ifltff           $21 i_1 $144
	cjmpnot          $21 @4
	noise3f          $103 pp_1
	mulfff           $103 $143 $103
	subfff           $103 $103 $142
	smoothstep       $16 $146 $157 fw_1
	subfff           $16 $142 $16
	mulfff           $103 $103 $16
	maddfff          sum_1 amp_1 $103
	mulfff           amp_1 amp_1 $149
	movvf            $88 $143
	mulvvv           pp_1 pp_1 $88
	mulfff           fw_1 fw_1 $143
	addfff           i_1 i_1 $142
	jmp              @3
@4
	movff            $16 sum_1
	mulfff           $16 $147 $16
	addfff           density_1 $147 $16
	length           $16 $62
	divfff           $16 $16 radius
	smoothstep       $16 $152 $142 $16
	subfff           $16 $142 $16
	mulfff           density_1 density_1 $16
	movff            $16 density_1
	subfff           $16 $16 last_dtau
	divfff           $8 shadstepsize $150
	movvf3           $67 $141 $8 $141
	addvvv           $68 Psamp $67
	mulfff           $100 shadstepsize noisefreq
	mulvvf           $66 $68 noisefreq
	movff            amp_2 $142
	movvv            pp_2 $66
	movff            sum_2 $141
	movff            fw_2 $100
	movff            i_2 $141
@5
	ifltff           $23 i_2 $144
	cjmpnot          $23 @6
	noise3f          $101 pp_2
	mulfff           $101 $143 $101
	subfff           $101 $101 $142
	smoothstep       $110 $146 $157 fw_2
	subfff           $110 $142 $110
	mulfff           $101 $101 $110
	maddfff          sum_2 amp_2 $101
	mulfff           amp_2 amp_2 $149
	movvf            $69 $143
	mulvvv           pp_2 pp_2 $69
	mulfff           fw_2 fw_2 $143
	addfff           i_2 i_2 $142
	jmp              @5
@6
	movff            $110 sum_2
	mulfff           $110 $147 $110
	addfff           density_2 $147 $110
	length           $110 $68
	divfff           $110 $110 radius
	smoothstep       $110 $152 $142 $110
	subfff           $110 $142 $110
	mulfff           density_2 density_2 $110
	movff            $110 density_2
	subfff           $110 $110 last_dtau
	divfff           $109 shadstepsize $150
	movvf3           $53 $141 $141 $109
	addvvv           $55 Psamp $53
	mulfff           $111 shadstepsize noisefreq
	mulvvf           $54 $55 noisefreq
	movff            amp_3 $142
	movvv            pp_3 $54
	movff            sum_3 $141
	movff            fw_3 $111
	movff            i_3 $141
@7
	ifltff           $7 i_3 $144
	cjmpnot          $7 @8
	noise3f          $107 pp_3
	mulfff           $107 $143 $107
	subfff           $107 $107 $142
	smoothstep       $108 $146 $157 fw_3
	subfff           $108 $142 $108
	mulfff           $107 $107 $108
	maddfff          sum_3 amp_3 $107
	mulfff           amp_3 amp_3 $149
	movvf            $51 $143
	mulvvv           pp_3 pp_3 $51
	mulfff           fw_3 fw_3 $143
	addfff           i_3 i_3 $142
	jmp              @7
@8
	movff            $108 sum_3
	mulfff           $108 $147 $108
	addfff           density_3 $147 $108
	length           $108 $55
	divfff           $108 $108 radius
	smoothstep       $108 $152 $142 $108
	subfff           $108 $142 $108
	mulfff           density_3 density_3 $108
	movff            $108 density_3
	subfff           $108 $108 last_dtau
	movvf3           norm $16 $110 $108
	cond_pop
	normalize        N_1 norm
	ntransform2      $54 $159 $154 N_1
	faceforward1     N_1 $54 I
	normalize        N_1 N_1
	movvf            Lscatter $141
	normalize        $54 I
	negvv            V $54
@9
	illuminance1     $61 @10
	movvv            Cscat Cl
	jleff            shadowdensity $141 @11
	vtransform1      $54 $159 L
	movff            Oi_1 $141
	length           Llen $54
	normalize        Iobj_1 $54
	vdot             $107 Psamp $54
	mulfff           b_1 $143 $107
	vdot             $107 Psamp Psamp
	mulfff           $24 radius radius
	subfff           c_1 $107 $24
	mulfff           $107 b_1 b_1
	mulfff           $108 $145 c_1
	subfff           discrim_1 $107 $108
	ifgtff           $10 discrim_1 $141
	cond_push        $10
	sqrt             discrim_1 discrim_1
	negff            $107 discrim_1
	subfff           $107 $107 b_1
	divfff           t0_1 $107 $143
	ifgtff           $10 t0_1 $151
	cond_push        $10
	subfff           $107 discrim_1 b_1
	divfff           t1_1 $107 $143
	movff            solutions_1 $143
	cond_else
	subfff           $107 discrim_1 b_1
	divfff           t0_1 $107 $143
	ifgtff           $10 t0_1 $151
	cmovf            solutions_1 $10 $142 $141
	cond_pop
	cond_else
	ifeqff           $10 discrim_1 $141
	cond_push        $10
	negff            $107 b_1
	divfff           t0_1 $107 $143
	ifgtff           $10 t0_1 $151
	cmovf            solutions_1 $10 $142 $141
	cond_else
	movff            solutions_1 $141
	cond_pop
	cond_pop
	movff            hits_1 solutions_1
	ifgtff           $10 hits_1 $141
	cond_push        $10
	movff            $107 t0_1
	cond_else
	movff            $107 $141
	cond_pop
	movff            end_1 $107
	minf             end_1 end_1 Llen
	movff            d_1 $141
	subfff           $107 end_1 d_1
	minf             ss_1 shadstepsize $107
	mulfff           $27 shadstepsize noisefreq
	mulvvf           $52 Psamp noisefreq
	movff            amp_4 $142
	movvv            pp_4 $52
	movff            sum_4 $141
	movff            fw_4 $27
	movff            i_4 $141
@13
	ifltff           $11 i_4 $144
	cjmpnot          $11 @14
	noise3f          $105 pp_4
	mulfff           $105 $143 $105
	subfff           $105 $105 $142
	smoothstep       $106 $146 $157 fw_4
	subfff           $106 $142 $106
	mulfff           $105 $105 $106
	maddfff          sum_4 amp_4 $105
	mulfff           amp_4 amp_4 $149
	movvf            $38 $143
	mulvvv           pp_4 pp_4 $38
	mulfff           fw_4 fw_4 $143
	addfff           i_4 i_4 $142
	jmp              @13
@14
	movff            $106 sum_4
	mulfff           $106 $147 $106
	addfff           density_4 $147 $106
	length           $106 Psamp
	divfff           $106 $106 radius
	smoothstep       $106 $152 $142 $106
	subfff           $106 $142 $106
	mulfff           density_4 density_4 $106
	movff            last_dtau_1 density_4
	addfff           $28 thresh $158
	smoothstep       last_dtau_1 thresh $28 last_dtau_1
@15
	ifleff           $9 d_1 end_1
	andltff          $9 Oi_1 $156
	cjmpnot          $9 @16
	cond_push        $9
	subfff           $106 end_1 d_1
	clampf           ss_1 ss_1 $155 $106
	addfff           d_1 d_1 ss_1
	mulvvf           $36 Iobj_1 d_1
	addvvv           $36 Psamp $36
	mulfff           $40 shadstepsize noisefreq
	mulvvf           $60 $36 noisefreq
	movff            amp_5 $142
	movvv            pp_5 $60
	movff            sum_5 $141
	movff            fw_5 $40
	movff            i_5 $141
@17
	ifltff           $12 i_5 $144
	cjmpnot          $12 @18
	noise3f          $116 pp_5
	mulfff           $116 $143 $116
	subfff           $116 $116 $142
	smoothstep       $117 $146 $157 fw_5
	subfff           $117 $142 $117
	mulfff           $116 $116 $117
	maddfff          sum_5 amp_5 $116
	mulfff           amp_5 amp_5 $149
	movvf            $46 $143
	mulvvv           pp_5 pp_5 $46
	mulfff           fw_5 fw_5 $143
	addfff           i_5 i_5 $142
	jmp              @17
@18
	movff            $117 sum_5
	mulfff           $117 $147 $117
	addfff           density_5 $147 $117
	length           $117 $36
	divfff           $117 $117 radius
	smoothstep       $117 $152 $142 $117
	subfff           $117 $142 $117
	mulfff           density_5 density_5 $117
	movff            dtau density_5
	addfff           $118 thresh $158
	smoothstep       dtau thresh $118 dtau
	mulfff           $117 shadowdensity ss_1
	divfff           $117 $117 $143
	addfff           $39 dtau last_dtau_1
	mulfff           tau $117 $39
	negff            $117 tau
	exp              $117 $117
	subfff           $117 $142 $117
	maddfff          Oi_1 $142 $117
	movff            last_dtau_1 dtau
	cond_pop
	jmp              @15
@16
	movff            $117 Oi_1
	subfff           $117 $142 $117
	movvf            $59 $117
	mulvvv           Cscat Cscat $59
@11
	normalize        LN L
	addvvv           $57 LN V
	normalize        H $57
	mulvvf           $57 Cscat Kd
	vdot             $115 LN N_1
	maxf             $115 $115 $141
	mulvvf           $57 $57 $115
	mulvvf           $58 Cscat Ks
	specularbrdf     $56 LN N_1 V $148
	maddvvv          $57 $58 $56
	addvvv           Lscatter Lscatter $57
	jmp              @9
@10
	noise3f          $39 Psamp
	mulfff           $39 $143 $39
	subfff           $39 $39 $142
	smoothstep       $112 $146 $157 shadstepsize
	subfff           $112 $142 $112
	mulfff           $39 $39 $112
	mulfff           $39 $147 $39
	addfff           $39 $147 $39
	movvf            $41 $150
	subvvv           $56 Psamp $41
	noise3f          $37 $56
	mulfff           $37 $143 $37
	subfff           $37 $37 $142
	smoothstep       $114 $146 $157 shadstepsize
	subfff           $114 $142 $114
	mulfff           $37 $37 $114
	mulfff           $37 $147 $37
	addfff           $37 $147 $37
	movvf3           $58 $39 $157 $37
	mulvvv           last_li Lscatter $58
	addfff           $112 thresh $158
	smoothstep       last_dtau thresh $112 last_dtau
@19
	ifleff           $34 d end
	compv            $37 Oi $141
	ifltff           $13 $37 $142
	compv            $113 Oi $142
	ifltff           $14 $113 $142
	compv            $123 Oi $143
	orltff           $14 $123 $142
	or               $13 $13 $14
	and              $34 $34 $13
	cjmpnot          $34 @20
	cond_push        $34
	subfff           $115 end d
	clampf           ss ss $155 $115
	addfff           d d ss
	mulvvf           $58 Iobj d
	addvvv           Psamp origin $58
	mulfff           $112 stepsize noisefreq
	mulvvf           $56 Psamp noisefreq
	movff            amp_6 $142
	movvv            pp_6 $56
	movff            sum_6 $141
	movff            fw_6 $112
	movff            i_6 $141
@21
	ifltff           $15 i_6 $144
	cjmpnot          $15 @22
	noise3f          $113 pp_6
	mulfff           $113 $143 $113
	subfff           $113 $113 $142
	smoothstep       $123 $146 $157 fw_6
	subfff           $123 $142 $123
	mulfff           $113 $113 $123
	maddfff          sum_6 amp_6 $113
	mulfff           amp_6 amp_6 $149
	movvf            $42 $143
	mulvvv           pp_6 pp_6 $42
	mulfff           fw_6 fw_6 $143
	addfff           i_6 i_6 $142
	jmp              @21
@22
	movff            $123 sum_6
	mulfff           $123 $147 $123
	addfff           density_6 $147 $123
	length           $123 Psamp
	divfff           $123 $123 radius
	smoothstep       $123 $152 $142 $123
	subfff           $123 $142 $123
	mulfff           density_6 density_6 $123
	movff            dtau_1 density_6
	movvf            li $141
	ifgtff           $29 dtau_1 thresh
	cond_push        $29
	ptransform2      $85 $159 $154 Psamp
	length           $48 Psamp
	subfff           $124 radius $153
	ifgtff           $30 $48 $124
	cond_push        $30
	movvv            norm_1 Psamp
	cond_else
	divfff           $122 shadstepsize $150
	movvf3           $83 $122 $141 $141
	addvvv           $86 Psamp $83
	mulfff           $124 shadstepsize noisefreq
	mulvvf           $84 $86 noisefreq
	movff            amp_7 $142
	movvv            pp_7 $84
	movff            sum_7 $141
	movff            fw_7 $124
	movff            i_7 $141
@23
	ifltff           $31 i_7 $144
	cjmpnot          $31 @24
	noise3f          $120 pp_7
	mulfff           $120 $143 $120
	subfff           $120 $120 $142
	smoothstep       $121 $146 $157 fw_7
	subfff           $121 $142 $121
	mulfff           $120 $120 $121
	maddfff          sum_7 amp_7 $120
	mulfff           amp_7 amp_7 $149
	movvf            $81 $143
	mulvvv           pp_7 pp_7 $81
	mulfff           fw_7 fw_7 $143
	addfff           i_7 i_7 $142
	jmp              @23
@24
	movff            $121 sum_7
	mulfff           $121 $147 $121
	addfff           density_7 $147 $121
	length           $121 $86
	divfff           $121 $121 radius
	smoothstep       $121 $152 $142 $121
	subfff           $121 $142 $121
	mulfff           density_7 density_7 $121
	movff            $121 density_7
	subfff           $121 $121 dtau_1
	divfff           $45 shadstepsize $150
	movvf3           $82 $141 $45 $141
	addvvv           $80 Psamp $82
	mulfff           $44 shadstepsize noisefreq
	mulvvf           $91 $80 noisefreq
	movff            amp_8 $142
	movvv            pp_8 $91
	movff            sum_8 $141
	movff            fw_8 $44
	movff            i_8 $141
@25
	ifltff           $32 i_8 $144
	cjmpnot          $32 @26
	noise3f          $131 pp_8
	mulfff           $131 $143 $131
	subfff           $131 $131 $142
	smoothstep       $129 $146 $157 fw_8
	subfff           $129 $142 $129
	mulfff           $131 $131 $129
	maddfff          sum_8 amp_8 $131
	mulfff           amp_8 amp_8 $149
	movvf            $89 $143
	mulvvv           pp_8 pp_8 $89
	mulfff           fw_8 fw_8 $143
	addfff           i_8 i_8 $142
	jmp              @25
@26
	movff            $129 sum_8
	mulfff           $129 $147 $129
	addfff           density_8 $147 $129
	length           $129 $80
	divfff           $129 $129 radius
	smoothstep       $129 $152 $142 $129
	subfff           $129 $142 $129
	mulfff           density_8 density_8 $129
	movff            $129 density_8
	subfff           $129 $129 dtau_1
	divfff           $130 shadstepsize $150
	movvf3           $4 $141 $141 $130
	addvvv           $90 Psamp $4
	mulfff           $126 shadstepsize noisefreq
	mulvvf           $3 $90 noisefreq
	movff            amp_9 $142
	movvv            pp_9 $3
	movff            sum_9 $141
	movff            fw_9 $126
	movff            i_9 $141
@27
	ifltff           $35 i_9 $144
	cjmpnot          $35 @28
	noise3f          $125 pp_9
	mulfff           $125 $143 $125
	subfff           $125 $125 $142
	smoothstep       $50 $146 $157 fw_9
	subfff           $50 $142 $50
	mulfff           $125 $125 $50
	maddfff          sum_9 amp_9 $125
	mulfff           amp_9 amp_9 $149
	movvf            $22 $143
	mulvvv           pp_9 pp_9 $22
	mulfff           fw_9 fw_9 $143
	addfff           i_9 i_9 $142
	jmp              @27
@28
	movff            $50 sum_9
	mulfff           $50 $147 $50
	addfff           density_9 $147 $50
	length           $50 $90
	divfff           $50 $50 radius
	smoothstep       $50 $152 $142 $50
	subfff           $50 $142 $50
	mulfff           density_9 density_9 $50
	movff            $50 density_9
	subfff           $50 $50 dtau_1
	movvf3           norm_1 $121 $129 $50
	cond_pop
	normalize        N_2 norm_1
	ntransform2      $3 $159 $154 N_2
	faceforward1     N_2 $3 I
	normalize        N_2 N_2
	movvf            Lscatter_1 $141
	normalize        $3 I
	negvv            V_1 $3
@29
	illuminance1     $85 @30
	movvv            Cscat_1 Cl
	jleff            shadowdensity $141 @31
	vtransform1      $3 $159 L
	movff            Oi_2 $141
	length           Llen_1 $3
	normalize        Iobj_2 $3
	vdot             $125 Psamp $3
	mulfff           b_2 $143 $125
	vdot             $125 Psamp Psamp
	mulfff           $127 radius radius
	subfff           c_2 $125 $127
	mulfff           $125 b_2 b_2
	mulfff           $50 $145 c_2
	subfff           discrim_2 $125 $50
	ifgtff           $33 discrim_2 $141
	cond_push        $33
	sqrt             discrim_2 discrim_2
	negff            $125 discrim_2
	subfff           $125 $125 b_2
	divfff           t0_2 $125 $143
	ifgtff           $33 t0_2 $151
	cond_push        $33
	subfff           $125 discrim_2 b_2
	divfff           t1_2 $125 $143
	movff            solutions_2 $143
	cond_else
	subfff           $125 discrim_2 b_2
	divfff           t0_2 $125 $143
	ifgtff           $33 t0_2 $151
	cmovf            solutions_2 $33 $142 $141
	cond_pop
	cond_else
	ifeqff           $33 discrim_2 $141
	cond_push        $33
	negff            $125 b_2
	divfff           t0_2 $125 $143
	ifgtff           $33 t0_2 $151
	cmovf            solutions_2 $33 $142 $141
	cond_else
	movff            solutions_2 $141
	cond_pop
	cond_pop
	movff            hits_2 solutions_2
	ifgtff           $33 hits_2 $141
	cond_push        $33
	movff            $125 t0_2
	cond_else
	movff            $125 $141
	cond_pop
	movff            end_2 $125
	minf             end_2 end_2 Llen_1
	movff            d_2 $141
	subfff           $125 end_2 d_2
	minf             ss_2 shadstepsize $125
	mulfff           $128 shadstepsize noisefreq
	mulvvf           $87 Psamp noisefreq
	movff            amp_10 $142
	movvv            pp_10 $87
	movff            sum_10 $141
	movff            fw_10 $128
	movff            i_10 $141
@33
	ifltff           $43 i_10 $144
	cjmpnot          $43 @34
	noise3f          $137 pp_10
	mulfff           $137 $143 $137
	subfff           $137 $137 $142
	smoothstep       $138 $146 $157 fw_10
	subfff           $138 $142 $138
	mulfff           $137 $137 $138
	maddfff          sum_10 amp_10 $137
	mulfff           amp_10 amp_10 $149
	movvf            $75 $143
	mulvvv           pp_10 pp_10 $75
	mulfff           fw_10 fw_10 $143
	addfff           i_10 i_10 $142
	jmp              @33
@34
	movff            $138 sum_10
	mulfff           $138 $147 $138
	addfff           density_10 $147 $138
	length           $138 Psamp
	divfff           $138 $138 radius
	smoothstep       $138 $152 $142 $138
	subfff           $138 $142 $138
	mulfff           density_10 density_10 $138
	movff            last_dtau_2 density_10
	addfff           $136 thresh $158
	smoothstep       last_dtau_2 thresh $136 last_dtau_2
@35
	ifleff           $25 d_2 end_2
	andltff          $25 Oi_2 $156
	cjmpnot          $25 @36
	cond_push        $25
	subfff           $138 end_2 d_2
	clampf           ss_2 ss_2 $155 $138
	addfff           d_2 d_2 ss_2
	mulvvf           $76 Iobj_2 d_2
	addvvv           $76 Psamp $76
	mulfff           $102 shadstepsize noisefreq
	mulvvf           $119 $76 noisefreq
	movff            amp_11 $142
	movvv            pp_11 $119
	movff            sum_11 $141
	movff            fw_11 $102
	movff            i_11 $141
@37
	ifltff           $26 i_11 $144
	cjmpnot          $26 @38
	noise3f          $134 pp_11
	mulfff           $134 $143 $134
	subfff           $134 $134 $142
	smoothstep       $135 $146 $157 fw_11
	subfff           $135 $142 $135
	mulfff           $134 $134 $135
	maddfff          sum_11 amp_11 $134
	mulfff           amp_11 amp_11 $149
	movvf            $72 $143
	mulvvv           pp_11 pp_11 $72
	mulfff           fw_11 fw_11 $143
	addfff           i_11 i_11 $142
	jmp              @37
@38
	movff            $135 sum_11
	mulfff           $135 $147 $135
	addfff           density_11 $147 $135
	length           $135 $76
	divfff           $135 $135 radius
	smoothstep       $135 $152 $142 $135
	subfff           $135 $142 $135
	mulfff           density_11 density_11 $135
	movff            dtau_2 density_11
	addfff           $132 thresh $158
	smoothstep       dtau_2 thresh $132 dtau_2
	mulfff           $135 shadowdensity ss_2
	divfff           $135 $135 $143
	addfff           $2 dtau_2 last_dtau_2
	mulfff           tau_1 $135 $2
	negff            $135 tau_1
	exp              $135 $135
	subfff           $135 $142 $135
	maddfff          Oi_2 $142 $135
	movff            last_dtau_2 dtau_2
	cond_pop
	jmp              @35
@36
	movff            $135 Oi_2
	subfff           $135 $142 $135
	movvf            $74 $135
	mulvvv           Cscat_1 Cscat_1 $74
@31
	normalize        LN_1 L
	addvvv           $71 LN_1 V_1
	normalize        H_1 $71
	mulvvf           $71 Cscat_1 Kd
	vdot             $133 LN_1 N_2
	maxf             $133 $133 $141
	mulvvf           $71 $71 $133
	mulvvf           $99 Cscat_1 Ks
	specularbrdf     $78 LN_1 N_2 V_1 $148
	maddvvv          $71 $99 $78
	addvvv           Lscatter_1 Lscatter_1 $71
	jmp              @29
@30
	noise3f          $2 Psamp
	mulfff           $2 $143 $2
	subfff           $2 $2 $142
	smoothstep       $77 $146 $157 shadstepsize
	subfff           $77 $142 $77
	mulfff           $2 $2 $77
	mulfff           $2 $147 $2
	addfff           $2 $147 $2
	movvf            $73 $150
	subvvv           $78 Psamp $73
	noise3f          $140 $78
	mulfff           $140 $143 $140
	subfff           $140 $140 $142
	smoothstep       $139 $146 $157 shadstepsize
	subfff           $139 $142 $139
	mulfff           $140 $140 $139
	mulfff           $140 $147 $140
	addfff           $140 $147 $140
	movvf3           $99 $2 $157 $140
	mulvvv           li Lscatter_1 $99
	cond_pop
	addfff           $77 thresh $158
	smoothstep       dtau_1 thresh $77 dtau_1
	mulfff           $133 opacdensity ss
	divfff           $133 $133 $143
	addfff           $140 dtau_1 last_dtau
	mulfff           tau_2 $133 $140
	mulfff           $133 lightdensity ss
	divfff           $133 $133 $143
	mulvvf           $78 li dtau_1
	mulvvf           $79 last_li last_dtau
	addvvv           $78 $78 $79
	mulvvf           lighttau $78 $133
	negff            $133 tau_2
	exp              $133 $133
	subfff           alpha $142 $133
	movvf            $73 $142
	subvvv           $78 $73 Oi
	mulvvv           $78 $78 lighttau
	maddvvf          Ci $78 alpha
	movvf            $1 $142
	subvvv           $79 $1 Oi
	maddvvf          Oi $79 alpha
	movff            last_dtau dtau_1
	movvv            last_li li
	cond_pop
	jmp              @19
@20
	return
