surface metal
param uniform float Ka 1
param uniform float Ks 1
param uniform float roughness 0.1
temp vector Nf
temp vector V
global N I Ci Cs Oi Os
temp vector $1
temp vector $2
codesegment
	normalize	Nf N
	faceforward1	Nf Nf I
	normalize	V I
	negvv		V V
	ambient		$1
	mulvvf		$1 $1 Ka
	specular	$2 Nf V roughness
	mulvvf		$2 $2 Ks
	addvvv		$1 $1 $2
	mulvvv		Ci Cs $1
	movvv		Oi Os
	mulvvv		Ci Ci Oi
	return
