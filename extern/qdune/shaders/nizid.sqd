# QDSLC version 0.0.1-alpha
surface nizid
param uniform float far 1.0
param uniform float near 0.0
param uniform float region_one 255.0
param uniform float region_id 1.0
temp varying float id
temp varying float zee
temp varying float ni
temp varying float $1
temp varying float $2
temp uniform float $3
temp varying float $4
temp varying bool $5
temp varying vector $6
const float $7 0.0
const float $8 1.0
global I P Ci Oi N
codesegment
	vdot             ni N I
	mulfff           $4 ni ni
	vdot             $1 N N
	vdot             $2 I I
	mulfff           $1 $1 $2
	divfff           ni $4 $1
	sqrt             $4 ni
	subfff           ni $8 $4
	depth            $4 P
	subfff           $4 $4 near
	subfff           $3 far near
	divfff           $4 $4 $3
	clampf           $4 $4 $7 $8
	subfff           zee $8 $4
	faceforward1     $6 N I
	vdot             $4 $6 N
	ifgeff           $5 $4 $7
	cond_push        $5
	movff            id region_id
	cond_else
	addfff           id region_id $8
	cond_pop
	divfff           $4 id region_one
	movvf3           Ci ni zee $4
	movvf            Oi $8
	return
