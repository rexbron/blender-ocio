# QDSLC version 0.0.1-alpha
surface roughmetal
param uniform float Ks 0.9
param uniform float Ka 1
param uniform float roughness 0.4
param uniform float Kd 0.1
temp varying normal Nf
temp varying vector $1
temp varying vector $2
global Ci Oi I N Cs Os
codesegment
	normalize        $2 N
	faceforward1     Nf $2 I
	ambient          $2
	mulvvf           $2 $2 Ka
	diffuse          $1 Nf
	maddvvf          $2 $1 Kd
	normalize        $1 I
	negvv            $1 $1
	specular         $1 Nf $1 roughness
	maddvvf          $2 $1 Ks
	mulvvv           Ci Cs $2
	movvv            Oi Os
	mulvvv           Ci Ci Oi
	return
