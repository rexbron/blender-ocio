# QDSLC version 0.0.1-alpha
surface skin
param uniform color Ka 0.5 0.5 0.5
param uniform float eta 0.714285714286
param uniform color sheenColor 1 1 1
param uniform float thickness 0.5
temp varying vector T_2
temp varying float costheta_2
temp varying float costheta
temp varying float won
temp varying float win
temp varying float win_1
temp varying vector T2
temp varying float Kr2
temp varying float win_2
temp varying float Kr
temp varying vector T_1
temp varying float Kt
temp varying float won_2
temp varying vector Ln
temp varying color C
temp varying normal Nn
temp varying float Kt2
temp varying vector R_1
temp varying float won_1
temp varying vector T
temp varying float costheta_1
temp varying vector R
temp varying vector Vf
temp varying vector H
temp uniform float $1
temp uniform float $2
temp varying float $3
temp uniform float $4
temp varying float $5
temp varying float $6
temp varying float $7
temp varying vector $8
temp uniform float $9
temp varying bool $10
temp varying float $11
temp varying vector $12
temp varying float $13
temp varying vector $14
temp varying vector $15
temp varying vector $16
const float $17 0
const float $18 0.5
const float $19 2.0
const float $20 4.0
const float $21 0.8
const float $22 0.2
const float $23 1.0
const float $24 0.3
const float $25 0.4
const float $26 1.5707963268
const float $27 1.5
global Ci Oi Cl I L N P Cs Os
codesegment
	normalize        $16 N
	faceforward1     Nn $16 I
	normalize        $16 I
	negvv            Vf $16
	movvv            Oi Os
	movvf            C $17
	negvv            $16 Vf
	fresnel2         Kr Kt R T $16 Nn eta
	smoothstep       Kr $17 $18 Kr
	subfff           Kt $23 Kr
	normalize        T_1 T
@1
	illuminance2     P Nn $26 @2
	normalize        Ln L
	addvvv           $14 Ln Vf
	normalize        H $14
	vdot             $5 H Nn
	ifgtff           $10 $5 $17
	cond_push        $10
	mulvvf           $14 sheenColor Kr
	mulvvv           $14 $14 Cl
	vdot             $6 Ln Nn
	mulvvf           $14 $14 $6
	vdot             $6 H Nn
	pow              $6 $6 $20
	maddvvf          C $14 $6
	cond_pop
	mulvvf           $14 sheenColor Kr
	mulvvv           $14 $14 Cl
	vdot             $6 Ln Nn
	mulvvf           $14 $14 $6
	maddvvf          C $14 $22
	negvv            $14 Ln
	fresnel2         Kr2 Kt2 R_1 T_2 $14 Nn eta
	smoothstep       Kr2 $17 $18 Kr2
	subfff           Kt2 $23 Kr2
	normalize        T2 T_2
	mulvvv           $15 Cs Cl
	vdot             $3 Ln Nn
	mulvvf           $15 $15 $3
	mulvvf           $15 $15 Kt
	mulvvf           $15 $15 Kt2
	vdot             $3 T_1 Nn
	abs              win $3
	vdot             $3 T2 Nn
	abs              won $3
	negvv            $12 T2
	vdot             costheta $12 T_1
	mulfff           $2 $21 $21
	subfff           $2 $23 $2
	mulfff           $1 $21 $21
	addfff           $1 $23 $1
	mulfff           $4 $19 $21
	mulfff           $11 $4 costheta
	subfff           $13 $1 $11
	pow              $13 $13 $27
	divfff           $3 $2 $13
	mulfff           $3 $21 $3
	addfff           $13 win won
	divfff           $3 $3 $13
	divfff           $13 $23 win
	divfff           $11 $23 won
	addfff           $13 $13 $11
	negff            $13 $13
	mulfff           $13 $13 thickness
	exp              $13 $13
	subfff           $13 $23 $13
	mulfff           $3 $3 $13
	vdot             $13 T_1 Nn
	abs              win_1 $13
	vdot             $13 T2 Nn
	abs              won_1 $13
	negvv            $8 T2
	vdot             costheta_1 $8 T_1
	mulfff           $1 $24 $24
	subfff           $1 $23 $1
	mulfff           $4 $24 $24
	addfff           $4 $23 $4
	mulfff           $9 $19 $24
	mulfff           $7 $9 costheta_1
	subfff           $11 $4 $7
	pow              $11 $11 $27
	divfff           $13 $1 $11
	mulfff           $13 $18 $13
	addfff           $11 win_1 won_1
	divfff           $13 $13 $11
	divfff           $11 $23 win_1
	divfff           $7 $23 won_1
	addfff           $11 $11 $7
	negff            $11 $11
	mulfff           $11 $11 thickness
	exp              $11 $11
	subfff           $11 $23 $11
	maddfff          $3 $13 $11
	vdot             $13 T_1 Nn
	abs              win_2 $13
	vdot             $13 T2 Nn
	abs              won_2 $13
	negvv            $8 T2
	vdot             costheta_2 $8 T_1
	mulfff           $1 $17 $17
	subfff           $1 $23 $1
	mulfff           $4 $17 $17
	addfff           $4 $23 $4
	mulfff           $9 $19 $17
	mulfff           $7 $9 costheta_2
	subfff           $11 $4 $7
	pow              $11 $11 $27
	divfff           $13 $1 $11
	mulfff           $13 $25 $13
	addfff           $11 win_2 won_2
	divfff           $13 $13 $11
	divfff           $11 $23 win_2
	divfff           $7 $23 won_2
	addfff           $11 $11 $7
	negff            $11 $11
	mulfff           $11 $11 thickness
	exp              $11 $11
	subfff           $11 $23 $11
	maddfff          $3 $13 $11
	maddvvf          C $15 $3
	jmp              @1
@2
	movvv            $15 C
	mulvvv           Ci Os $15
	return
